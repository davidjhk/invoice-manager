# Invoice Manager - Yii2 ê¸°ë°˜ ì¸ë³´ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ

í˜„ëŒ€ì ì¸ Yii2 í”„ë ˆì„ì›Œí¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë©€í‹°ìœ ì € ì¸ë³´ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ì£¼ìš” íŠ¹ì§•

### ğŸ¢ ë©€í‹°ìœ ì € ì§€ì›

- **ê´€ë¦¬ì ì‹œìŠ¤í…œ**: ì™„ì „í•œ ì‚¬ìš©ì ê´€ë¦¬ ë° ì‹œìŠ¤í…œ ì„¤ì •
- **ì¼ë°˜ ì‚¬ìš©ì**: ê°œì¸ íšŒì‚¬ ë° ì¸ë³´ì´ìŠ¤ ê´€ë¦¬
- **ë°ëª¨ ì‚¬ìš©ì**: ì œí•œëœ ê¸°ëŠ¥ìœ¼ë¡œ ì‹œìŠ¤í…œ ì²´í—˜ ê°€ëŠ¥

### ğŸ“Š í•µì‹¬ ê¸°ëŠ¥

- **ì¸ë³´ì´ìŠ¤ ê´€ë¦¬**: ìƒì„±, í¸ì§‘, PDF ìƒì„±, ì´ë©”ì¼ ë°œì†¡
- **ê²¬ì ì„œ ê´€ë¦¬**: ê²¬ì ì„œ ìƒì„± ë° ì¸ë³´ì´ìŠ¤ ë³€í™˜
- **ê³ ê° ê´€ë¦¬**: ê³ ê° ì •ë³´ ë° ì—°ë½ì²˜ ê´€ë¦¬
- **ì œí’ˆ ê´€ë¦¬**: ì œí’ˆ/ì„œë¹„ìŠ¤ ì¹´íƒˆë¡œê·¸ ê´€ë¦¬
- **íšŒì‚¬ ì„¤ì •**: íšŒì‚¬ ì •ë³´, ë¡œê³ , ì´ë©”ì¼ ì„¤ì •

### ğŸ’Œ ì´ë©”ì¼ ì‹œìŠ¤í…œ

- **Symfony Mailer**: ìµœì‹  ì´ë©”ì¼ ì „ì†¡ ì‹œìŠ¤í…œ
- **íŒŒì¼ ê¸°ë°˜ ì „ì†¡**: ê°œë°œ í™˜ê²½ì—ì„œ ì´ë©”ì¼ íŒŒì¼ ì €ì¥
- **SMTP2GO í†µí•©**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì•ˆì •ì ì¸ ì´ë©”ì¼ ì „ì†¡

### ğŸ¨ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤

- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ì™„ë²½ í˜¸í™˜
- **ë‹¤í¬ëª¨ë“œ ì§€ì›**: ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œ ì „í™˜ ê°€ëŠ¥
- **í”Œë¡œíŒ… ë„¤ë¹„ê²Œì´ì…˜**: ìŠ¤í¬ë¡¤ ê³ ì • ë„¤ë¹„ê²Œì´ì…˜ ë°”
- **í˜„ëŒ€ì  UI**: Bootstrap 4 ê¸°ë°˜ ì„¸ë ¨ëœ ë””ìì¸

## ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

- **PHP**: 8.1 ì´ìƒ (ê¶Œì¥)
- **ë°ì´í„°ë² ì´ìŠ¤**: MySQL 5.7+ ë˜ëŠ” MariaDB 10.2+
- **ì›¹ì„œë²„**: Apache 2.4+ ë˜ëŠ” Nginx 1.18+
- **Composer**: PHP ì˜ì¡´ì„± ê´€ë¦¬
- **Git**: ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬

## ì„¤ì¹˜ ë°©ë²•

### 1. í”„ë¡œì íŠ¸ í´ë¡ 

```bash
git clone https://github.com/davidjhk/invoice-manager.git
cd invoice-manager
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
composer install
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
mysql -u root -p
```

```sql
CREATE DATABASE invoice_manager CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'invoice_user'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON invoice_manager.* TO 'invoice_user'@'localhost';
FLUSH PRIVILEGES;
```

### 4. ì„¤ì • íŒŒì¼ ìˆ˜ì •

`config/db.php` íŒŒì¼ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´ ìˆ˜ì •:

```php
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=invoice_manager',
    'username' => 'invoice_user',
    'password' => 'your_password',
    'charset' => 'utf8mb4',
];
```

### 5. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
./yii migrate
```

### 6. ì›¹ì„œë²„ ì„¤ì •

DocumentRootë¥¼ `web/` ë””ë ‰í† ë¦¬ë¡œ ì„¤ì •í•˜ê³  URL ë¦¬ë¼ì´íŒ… í™œì„±í™”

#### Apache .htaccess ì„¤ì • ì˜µì…˜

í”„ë¡œì íŠ¸ëŠ” 3ê°€ì§€ `.htaccess` ì„¤ì •ì„ ì œê³µí•©ë‹ˆë‹¤:

**ê¸°ë³¸ ì„¤ì • (í˜„ì¬ ì‚¬ìš© ì¤‘)**
```bash
# ë‹¨ìˆœí•œ Yii2 ë¼ìš°íŒ…ë§Œ ì œê³µ
web/.htaccess
```

**ê³ ê¸‰ ì„¤ì • (ë³´ì•ˆ ê°•í™”)**
```bash
# ê³ ê¸‰ ë³´ì•ˆ ë° ì„±ëŠ¥ ìµœì í™” ì„¤ì •ìœ¼ë¡œ êµì²´
cp web/.htaccess.advanced web/.htaccess
```

**ë‹¨ìˆœ ì„¤ì • (ë¬¸ì œ í•´ê²°ìš©)**
```bash
# ìµœì†Œí•œì˜ ì„¤ì • (ë¬¸ì œ ë°œìƒ ì‹œ ì‚¬ìš©)
cp web/.htaccess.simple web/.htaccess
```

**ê³ ê¸‰ ì„¤ì • ê¸°ëŠ¥:**
- ğŸ”’ ë³´ì•ˆ í—¤ë” ì¶”ê°€ (XSS, í´ë¦­ì¬í‚¹ ë°©ì§€)
- ğŸš« ë¯¼ê°í•œ íŒŒì¼ ì ‘ê·¼ ì°¨ë‹¨
- ğŸ“ ë””ë ‰í† ë¦¬ ë¸Œë¼ìš°ì§• ë°©ì§€
- ğŸ—œï¸ íŒŒì¼ ì••ì¶• (ì„±ëŠ¥ í–¥ìƒ)
- âš¡ ë¸Œë¼ìš°ì € ìºì‹± (ë¡œë”© ì†ë„ í–¥ìƒ)

**í•„ìš” Apache ëª¨ë“ˆ:**
- `mod_headers` (ë³´ì•ˆ í—¤ë”)
- `mod_deflate` (ì••ì¶•)
- `mod_expires` (ìºì‹±)

**ëª¨ë“ˆ í™œì„±í™”:**
```bash
sudo a2enmod headers deflate expires
sudo systemctl restart apache2
```

### 7. íŒŒì¼ ê¶Œí•œ ì„¤ì •

```bash
# ì›¹ì„œë²„ ì‚¬ìš©ì ê¶Œí•œ ì„¤ì •
sudo chown -R daemon:daemon /path/to/invoice-manager
sudo chmod -R 755 /path/to/invoice-manager
sudo chmod -R 777 /path/to/invoice-manager/runtime
sudo chmod -R 777 /path/to/invoice-manager/web/assets
sudo chmod -R 777 /path/to/invoice-manager/web/uploads

# Git ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ê¶Œí•œ ì„¤ì •
sudo chgrp -R daemon /path/to/invoice-manager/.git
sudo chmod -R g+w /path/to/invoice-manager/.git

# í˜„ì¬ ì‚¬ìš©ìë¥¼ daemon ê·¸ë£¹ì— ì¶”ê°€
sudo usermod -a -G daemon $(whoami)
```

## ì‚¬ìš©ì ê³„ì •

### ê¸°ë³¸ ê³„ì •

ì‹œìŠ¤í…œì—ëŠ” ë‹¤ìŒ ê¸°ë³¸ ê³„ì •ë“¤ì´ ì œê³µë©ë‹ˆë‹¤:

#### ê´€ë¦¬ì ê³„ì •

- **ì‚¬ìš©ìëª…**: `admin`
- **ë¹„ë°€ë²ˆí˜¸**: `admin123`
- **ê¶Œí•œ**: ì „ì²´ ì‹œìŠ¤í…œ ê´€ë¦¬, ì‚¬ìš©ì ê´€ë¦¬, ì‹œìŠ¤í…œ ì„¤ì •

#### ë°ëª¨ ê³„ì •

- **ì‚¬ìš©ìëª…**: `demo`
- **ë¹„ë°€ë²ˆí˜¸**: `demo123`
- **ê¶Œí•œ**: ì œí•œëœ ê¸°ëŠ¥, ë°ëª¨ ë°ì´í„° ê´€ë¦¬

### ê³„ì • ìœ í˜•

#### ğŸ”§ ê´€ë¦¬ì (Admin)

- ì „ì²´ ì‹œìŠ¤í…œ ê´€ë¦¬
- ì‚¬ìš©ì ê³„ì • ê´€ë¦¬
- ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- íšŒì›ê°€ì… ê¸°ëŠ¥ í™œì„±í™”/ë¹„í™œì„±í™”
- ì‹œìŠ¤í…œ ì„¤ì • ê´€ë¦¬

#### ğŸ‘¤ ì¼ë°˜ ì‚¬ìš©ì (User)

- ê°œì¸ íšŒì‚¬ ê´€ë¦¬
- ì¸ë³´ì´ìŠ¤ ë° ê²¬ì ì„œ ê´€ë¦¬
- ê³ ê° ë° ì œí’ˆ ê´€ë¦¬
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

#### ğŸ­ ë°ëª¨ ì‚¬ìš©ì (Demo)

- ì‹œìŠ¤í…œ ì²´í—˜ ë° í…ŒìŠ¤íŠ¸
- ì œí•œëœ ê¸°ëŠ¥ ì‚¬ìš©
- ë°ëª¨ ë°ì´í„° ì´ˆê¸°í™” ê°€ëŠ¥
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë¶ˆê°€

## í•µì‹¬ ê¸°ëŠ¥ ìƒì„¸

### ğŸ“‹ ì¸ë³´ì´ìŠ¤ ê´€ë¦¬

- **ìƒì„± ë° í¸ì§‘**: ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¸ë³´ì´ìŠ¤ ì‘ì„±
- **PDF ìƒì„±**: ì „ë¬¸ì ì¸ PDF ì¸ë³´ì´ìŠ¤ ìƒì„±
- **ì´ë©”ì¼ ë°œì†¡**: ê³ ê°ì—ê²Œ ì§ì ‘ ì´ë©”ì¼ ì „ì†¡
- **ìƒíƒœ ê´€ë¦¬**: ì´ˆì•ˆ, ë°œì†¡, ê²°ì œ ì™„ë£Œ ë“± ìƒíƒœ ì¶”ì 
- **ë²ˆí˜¸ ìë™ ìƒì„±**: ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ ê°€ëŠ¥í•œ ì¸ë³´ì´ìŠ¤ ë²ˆí˜¸

### ğŸ“„ ê²¬ì ì„œ ê´€ë¦¬

- **ê²¬ì ì„œ ìƒì„±**: ê³ ê°ìš© ê²¬ì ì„œ ì‘ì„±
- **ì¸ë³´ì´ìŠ¤ ë³€í™˜**: ìŠ¹ì¸ëœ ê²¬ì ì„œë¥¼ ì¸ë³´ì´ìŠ¤ë¡œ ë³€í™˜
- **ìœ íš¨ê¸°ê°„ ê´€ë¦¬**: ê²¬ì ì„œ ìœ íš¨ê¸°ê°„ ì„¤ì •
- **PDF ìƒì„±**: ê²¬ì ì„œ PDF ë‹¤ìš´ë¡œë“œ

### ğŸ‘¥ ê³ ê° ê´€ë¦¬

- **ê³ ê° ì •ë³´**: ì—°ë½ì²˜, ì£¼ì†Œ, ê²°ì œ ì¡°ê±´ ê´€ë¦¬
- **ê³ ê° íˆìŠ¤í† ë¦¬**: ê³¼ê±° ì¸ë³´ì´ìŠ¤ ë° ê²¬ì ì„œ ê¸°ë¡
- **ë¹ ë¥¸ ê²€ìƒ‰**: ê³ ê° ì´ë¦„, ì´ë©”ì¼ë¡œ ë¹ ë¥¸ ê²€ìƒ‰

### ğŸ“¦ ì œí’ˆ ê´€ë¦¬

- **ì œí’ˆ ì¹´íƒˆë¡œê·¸**: ì œí’ˆ/ì„œë¹„ìŠ¤ ëª©ë¡ ê´€ë¦¬
- **ê°€ê²© ì„¤ì •**: ì œí’ˆë³„ ê°€ê²© ë° ì„¤ëª… ì„¤ì •
- **ì¸ë³´ì´ìŠ¤ ì—°ë™**: ì œí’ˆ ì„ íƒìœ¼ë¡œ ë¹ ë¥¸ ì¸ë³´ì´ìŠ¤ ì‘ì„±

### ğŸ¢ íšŒì‚¬ ì„¤ì •

- **íšŒì‚¬ ì •ë³´**: íšŒì‚¬ëª…, ì£¼ì†Œ, ì—°ë½ì²˜ ê´€ë¦¬
- **ë¡œê³  ì—…ë¡œë“œ**: íšŒì‚¬ ë¡œê³  ì—…ë¡œë“œ ë° ê´€ë¦¬
- **ì´ë©”ì¼ ì„¤ì •**: ë°œì†¡ì ì •ë³´ ë° ì´ë©”ì¼ ì„¤ì •
- **ì¸ë³´ì´ìŠ¤ ì„¤ì •**: ë²ˆí˜¸ í˜•ì‹, ê²°ì œ ì¡°ê±´, ì„¸ìœ¨ ì„¤ì •

## ê´€ë¦¬ì ê¸°ëŠ¥

### ğŸ‘‘ ì‚¬ìš©ì ê´€ë¦¬

- **ì‚¬ìš©ì ëª©ë¡**: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ë° ê´€ë¦¬
- **ì‚¬ìš©ì ìƒì„±**: ìƒˆ ì‚¬ìš©ì ê³„ì • ìƒì„±
- **ì‚¬ìš©ì í¸ì§‘**: ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
- **ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •**: ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬
- **ê³„ì • í™œì„±í™”/ë¹„í™œì„±í™”**: ì‚¬ìš©ì ê³„ì • ìƒíƒœ ê´€ë¦¬

### âš™ï¸ ì‹œìŠ¤í…œ ì„¤ì •

- **íšŒì›ê°€ì… ì œì–´**: ì‹ ê·œ íšŒì›ê°€ì… í—ˆìš©/ì°¨ë‹¨
- **ì‹œìŠ¤í…œ íŒŒë¼ë¯¸í„°**: ì „ì²´ ì‹œìŠ¤í…œ ì„¤ì • ê´€ë¦¬

## ê¸°ìˆ  ìŠ¤íƒ

### ğŸš€ ë°±ì—”ë“œ

- **Yii2 Framework**: ìµœì‹  PHP MVC í”„ë ˆì„ì›Œí¬
- **MySQL**: ì•ˆì •ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ
- **Symfony Mailer**: í˜„ëŒ€ì ì¸ ì´ë©”ì¼ ì „ì†¡ ì‹œìŠ¤í…œ
- **TCPDF**: PDF ìƒì„± ë¼ì´ë¸ŒëŸ¬ë¦¬

### ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ

- **Bootstrap 4**: ë°˜ì‘í˜• CSS í”„ë ˆì„ì›Œí¬
- **jQuery**: JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Font Awesome**: ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Custom CSS**: ë§ì¶¤í˜• ìŠ¤íƒ€ì¼ë§

## ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### í…Œì´ë¸” ëª©ë¡

- `jdosa_users` - ì‚¬ìš©ì ê³„ì • ì •ë³´
- `jdosa_companies` - íšŒì‚¬ ì •ë³´ ë° ì„¤ì •
- `jdosa_customers` - ê³ ê° ì •ë³´
- `jdosa_products` - ì œí’ˆ/ì„œë¹„ìŠ¤ ì •ë³´
- `jdosa_invoices` - ì¸ë³´ì´ìŠ¤ ë°ì´í„°
- `jdosa_invoice_items` - ì¸ë³´ì´ìŠ¤ í•­ëª©
- `jdosa_estimates` - ê²¬ì ì„œ ë°ì´í„°
- `jdosa_estimate_items` - ê²¬ì ì„œ í•­ëª©
- `jdosa_admin_settings` - ê´€ë¦¬ì ì‹œìŠ¤í…œ ì„¤ì •

## ë³´ì•ˆ ê¸°ëŠ¥

### ğŸ”’ ì¸ì¦ ë° ê¶Œí•œ

- **Yii2 ì¸ì¦**: í”„ë ˆì„ì›Œí¬ ë‚´ì¥ ì¸ì¦ ì‹œìŠ¤í…œ
- **ì—­í•  ê¸°ë°˜ ì ‘ê·¼**: ê´€ë¦¬ì/ì‚¬ìš©ì/ë°ëª¨ ì—­í•  ë¶„ë¦¬
- **ì„¸ì…˜ ê´€ë¦¬**: ì•ˆì „í•œ ì„¸ì…˜ ê´€ë¦¬
- **CSRF ë³´í˜¸**: í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìš”ì²­ ìœ„ì¡° ë°©ì§€

### ğŸ›¡ï¸ ë°ì´í„° ë³´ì•ˆ

- **ë°ì´í„° ê²€ì¦**: ëª¨ë“  ì…ë ¥ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬
- **SQL ì¸ì ì…˜ ë°©ì§€**: ORM ê¸°ë°˜ ì•ˆì „í•œ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬
- **íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ**: ì•ˆì „í•œ íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬

## ê°œë°œ í™˜ê²½

### ë””ë²„ê¹…

- **Yii2 Debug Bar**: ê°œë°œ í™˜ê²½ì—ì„œ ìƒì„¸ ë””ë²„ê¹… ì •ë³´
- **ë¡œê·¸ ì‹œìŠ¤í…œ**: ì²´ê³„ì ì¸ ë¡œê·¸ ê´€ë¦¬
- **ì˜¤ë¥˜ ì¶”ì **: ìƒì„¸í•œ ì˜¤ë¥˜ ì •ë³´ ì œê³µ

### ê°œë°œ ë„êµ¬

- **Gii**: ì½”ë“œ ìƒì„± ë„êµ¬ (ê°œë°œ í™˜ê²½)
- **Migration**: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ê´€ë¦¬
- **Asset Management**: ì •ì  ìì› ê´€ë¦¬

## ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸

### ğŸ”„ ì—…ë°ì´íŠ¸ ë°©ë²•

#### ìë™ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ (ê¶Œì¥)

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰
./update.sh
```

**ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì£¼ìš” ê¸°ëŠ¥:**
- âœ… ìë™ ë°±ì—… ìƒì„± (ì„¤ì • íŒŒì¼ ë³´ì¡´)
- âœ… Git ê¶Œí•œ ìë™ ê´€ë¦¬
- âœ… Composer ì˜ì¡´ì„± ìë™ ì—…ë°ì´íŠ¸
- âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ìë™ ì‹¤í–‰
- âœ… ë¡œì»¬ ì„¤ì • íŒŒì¼ ìë™ ë³µì› (.htaccess ë“±)
- âœ… ìºì‹œ ìë™ ì •ë¦¬
- âœ… ê¶Œí•œ ìë™ ë³µì›

#### ìˆ˜ë™ ì—…ë°ì´íŠ¸

```bash
# Git ê¶Œí•œ ì„ì‹œ ë³€ê²½
sudo chown -R $(whoami):$(whoami) .git/

# ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
git pull

# ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
composer install --no-dev --optimize-autoloader

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
./yii migrate

# ê¶Œí•œ ë³µì›
sudo chown -R daemon:daemon .
sudo chmod -R 755 .
sudo chmod -R 777 runtime/ web/assets/ web/uploads/
```

### âš ï¸ ê¶Œí•œ ë¬¸ì œ í•´ê²°

`git pull` ì‹¤í–‰ ì‹œ "Permission denied" ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°:

#### ë°©ë²• 1: ê·¸ë£¹ ê¶Œí•œ ì„¤ì • (ê¶Œì¥)

```bash
# í˜„ì¬ ì‚¬ìš©ìë¥¼ daemon ê·¸ë£¹ì— ì¶”ê°€
sudo usermod -a -G daemon $(whoami)

# Git ë””ë ‰í† ë¦¬ ê·¸ë£¹ ê¶Œí•œ ì„¤ì •
sudo chgrp -R daemon .git/
sudo chmod -R g+w .git/

# ì•ˆì „í•œ ë””ë ‰í† ë¦¬ë¡œ ë“±ë¡
git config --global --add safe.directory $(pwd)

# ê·¸ë£¹ ë³€ê²½ì‚¬í•­ ì ìš© (ë¡œê·¸ì•„ì›ƒ í›„ ì¬ë¡œê·¸ì¸ ë˜ëŠ”)
newgrp daemon
```

#### ë°©ë²• 2: ì„ì‹œ ê¶Œí•œ ë³€ê²½ (ì¦‰ì‹œ ì‚¬ìš©)

```bash
# Git ê¶Œí•œ ì„ì‹œ ë³€ê²½
sudo chown -R $(whoami):$(whoami) .git/

# Git pull ì‹¤í–‰
git pull

# ê¶Œí•œ ë³µì›
sudo chown -R daemon:daemon .
```

### ğŸ”€ Git ì¶©ëŒ í•´ê²°

`git pull` ì‹¤í–‰ ì‹œ íŒŒì¼ ì¶©ëŒì´ ë°œìƒí•˜ëŠ” ê²½ìš°:

#### ì¶©ëŒ ìœ í˜• 1: ë¡œì»¬ ë³€ê²½ì‚¬í•­ê³¼ ì›ê²© ë³€ê²½ì‚¬í•­ ì¶©ëŒ

```bash
# ë¡œì»¬ ë³€ê²½ì‚¬í•­ ë°±ì—…
git stash push -m "Local changes backup"

# ìƒˆë¡œìš´ íŒŒì¼ë“¤ ì„ì‹œ ë°±ì—…
mkdir -p temp_backup
find . -name "*.php" -path "./controllers/*" -o -path "./models/*" -o -path "./views/*" -o -path "./migrations/*" | \
    grep -E "(Admin|Demo|ChangePassword)" | \
    xargs -I {} cp --parents {} temp_backup/ 2>/dev/null || true

# ìƒˆë¡œìš´ íŒŒì¼ë“¤ ì œê±°
git clean -fd

# Git pull ì‹¤í–‰
git pull

# ë°±ì—…ëœ íŒŒì¼ë“¤ ë³µì›
cp -r temp_backup/* . 2>/dev/null || true
rm -rf temp_backup

# ìŠ¤íƒœì‹œ ë³µì› (ì„ íƒì‚¬í•­)
git stash pop
```

#### ì¶©ëŒ ìœ í˜• 2: ì™„ì „íˆ ìƒˆë¡œ ì‹œì‘ (ì£¼ì˜: ëª¨ë“  ë¡œì»¬ ë³€ê²½ì‚¬í•­ ì†ì‹¤)

```bash
# ëª¨ë“  ë¡œì»¬ ë³€ê²½ì‚¬í•­ ë¬´ì‹œ
git reset --hard HEAD
git clean -fd
git pull
```

### ğŸ”§ ë¡œì»¬ ì„¤ì • ë³´ì¡´

#### .htaccess ì„¤ì • ë³´ì¡´

**ë¬¸ì œ**: ì—…ë°ì´íŠ¸ í›„ `.htaccess.advanced` ì„¤ì •ì´ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë˜ëŒì•„ê°

**í•´ê²°**: `update.sh` ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬

```bash
# .htaccess.advanced ì„¤ì • ì ìš©
cp web/.htaccess.advanced web/.htaccess

# ì—…ë°ì´íŠ¸ ì‹¤í–‰ (ì„¤ì •ì´ ìë™ìœ¼ë¡œ ë³´ì¡´ë¨)
./update.sh
```

**ìë™ ë³´ì¡´ ê³¼ì •:**
1. ì—…ë°ì´íŠ¸ ì „: í˜„ì¬ `.htaccess` ìë™ ë°±ì—…
2. Git Pull: ì›ê²© ì €ì¥ì†Œ íŒŒì¼ë¡œ ë®ì–´ì“°ê¸°
3. ì—…ë°ì´íŠ¸ í›„: ë°±ì—…ëœ `.htaccess` ìë™ ë³µì›

#### ê¸°íƒ€ ë¡œì»¬ ì„¤ì • ë³´ì¡´

**ìë™ ë°±ì—… íŒŒì¼ë“¤:**
- `config/db.php` - ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
- `config/web.php` - ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
- `web/.htaccess` - Apache ì„¤ì •

**ë°±ì—… ìœ„ì¹˜:** `backups/` ë””ë ‰í† ë¦¬

### ğŸ”§ Composer ë¬¸ì œ í•´ê²°

ì—…ë°ì´íŠ¸ í›„ Composer ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°:

#### ë¬¸ì œ: "Required package is not present in the lock file"

```bash
# ë°©ë²• 1: ìë™ í•´ê²° ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
./fix_composer.sh

# ë°©ë²• 2: ìˆ˜ë™ í•´ê²°
# Lock íŒŒì¼ ë°±ì—…
cp composer.lock backups/composer.lock.backup.$(date +%Y%m%d_%H%M%S)

# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
composer clear-cache
rm -f composer.lock
rm -rf vendor/
composer install --no-dev --optimize-autoloader
```

#### ë¬¸ì œ: "Lock file is not up to date"

```bash
# ìºì‹œ ì •ë¦¬ í›„ ì—…ë°ì´íŠ¸
composer clear-cache
composer update --no-dev --optimize-autoloader
```

## ì§€ì› ë° ë¬¸ì˜

### ğŸ› ë²„ê·¸ ë¦¬í¬íŠ¸

GitHub Issuesë¥¼ í†µí•´ ë²„ê·¸ ë¦¬í¬íŠ¸ë‚˜ ê¸°ëŠ¥ ìš”ì²­ì„ ì œì¶œí•´ì£¼ì„¸ìš”.

### ğŸ“– ë¬¸ì„œ

- [Yii2 ê³µì‹ ë¬¸ì„œ](https://www.yiiframework.com/doc/guide/2.0/en)
- [Bootstrap 4 ë¬¸ì„œ](https://getbootstrap.com/docs/4.6/getting-started/introduction/)

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

**Invoice Manager** - íš¨ìœ¨ì ì´ê³  í˜„ëŒ€ì ì¸ ì¸ë³´ì´ìŠ¤ ê´€ë¦¬ ì†”ë£¨ì…˜
